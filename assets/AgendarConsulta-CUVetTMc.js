import{r as i,l as B,j as e,m as n,i as C,U as H,W as O,o as I,V as q}from"./index-DOubVUE4.js";import{S}from"./star-xF0HenbB.js";import{C as z}from"./clock-V1-wi2yJ.js";import{P as F}from"./phone-Bt0PgFTj.js";function X(){var v,N,w;const[s,f]=i.useState(null),[r,u]=i.useState(new Date),[h,j]=i.useState(""),[l,D]=i.useState("chat"),[o,c]=i.useState(1),{toast:y}=B(),k=[{id:"1",name:"Consultor Disponível",specialty:"Tarot e Astrologia",rating:4.9,reviewCount:1250,imageUrl:"https://images.unsplash.com/photo-1494790108755-2616b612b5e5?w=150&h=150&fit=crop&crop=face",hourlyRate:65,description:"Especialista em leitura de tarot com mais de 15 anos de experiência"},{id:"2",name:"Ana Cristal",specialty:"Mediunidade",rating:4.8,reviewCount:890,imageUrl:"https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=150&h=150&fit=crop&crop=face",hourlyRate:55,description:"Médium com dom natural, conecta com o plano espiritual"},{id:"3",name:"Carlos Astro",specialty:"Astrologia",rating:4.7,reviewCount:567,imageUrl:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=150&h=150&fit=crop&crop=face",hourlyRate:70,description:"Astrólogo profissional, mapa astral completo e previsões"}],d=[{id:"chat",name:"Chat Texto",icon:I,description:"Conversa por texto em tempo real",multiplier:1},{id:"video",name:"Videochamada",icon:q,description:"Consulta por vídeo ao vivo",multiplier:1.3},{id:"phone",name:"Ligação",icon:F,description:"Consulta por telefone",multiplier:1.1}],A=()=>{var x;const a=[],t=(s==null?void 0:s.hourlyRate)||50,m=((x=d.find(p=>p.id===l))==null?void 0:x.multiplier)||1;for(let p=8;p<=22;p++)for(let b=0;b<60;b+=30){const W=`${p.toString().padStart(2,"0")}:${b.toString().padStart(2,"0")}`,L=Math.random()>.3;a.push({time:W,available:L,price:Math.round(t*m)})}return a},[R,T]=i.useState([]);i.useEffect(()=>{s&&r&&T(A())},[s,r,l]);const g=a=>a.toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),$=a=>{f(a),c(2)},E=a=>{j(a),c(3)},M=async()=>{try{await new Promise(a=>setTimeout(a,2e3)),y({title:"Consulta Agendada!",description:`Sua consulta com ${s==null?void 0:s.name} foi agendada para ${g(r)} às ${h}`}),c(4)}catch{y({title:"Erro ao agendar",description:"Tente novamente em alguns instantes",variant:"destructive"})}},P=()=>{const a=new Date(r);a.setDate(a.getDate()+7),u(a)},U=()=>{const a=new Date(r);a.setDate(a.getDate()-7),u(a)},V=()=>{const a=[],t=new Date(r);t.setDate(r.getDate()-r.getDay());for(let m=0;m<7;m++){const x=new Date(t);x.setDate(t.getDate()+m),a.push(x)}return a};return o===4?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-50 flex items-center justify-center p-4",children:e.jsxs(n.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl shadow-xl p-8 text-center max-w-md w-full",children:[e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(C,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Consulta Agendada!"}),e.jsxs("p",{className:"text-gray-600 mb-6",children:["Sua consulta com ",s==null?void 0:s.name," foi confirmada para ",g(r)," às ",h]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>window.location.href="/dashboard",className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-purple-700 hover:to-indigo-700",children:"Ver Agendamentos"}),e.jsx("button",{onClick:()=>{c(1),f(null),j("")},className:"w-full bg-gray-100 text-gray-800 font-semibold py-3 px-6 rounded-lg hover:bg-gray-200",children:"Agendar Outra Consulta"})]})]})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-indigo-50 py-12",children:e.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Agendar Consulta"}),e.jsx("p",{className:"text-xl text-gray-600",children:"Escolha seu consultor e horário ideal"})]}),e.jsx("div",{className:"flex justify-center mb-12",children:e.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3].map(a=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold ${o>=a?"bg-purple-600 text-white":"bg-gray-200 text-gray-600"}`,children:a}),a<3&&e.jsx("div",{className:`w-12 h-1 mx-2 ${o>a?"bg-purple-600":"bg-gray-200"}`})]},a))})}),o===1&&e.jsx(n.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"grid md:grid-cols-3 gap-8",children:k.map((a,t)=>e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.1},onClick:()=>$(a),className:"bg-white rounded-2xl shadow-lg p-6 cursor-pointer hover:shadow-xl transition-all duration-300 hover:scale-105",children:e.jsxs("div",{className:"text-center",children:[e.jsx("img",{src:a.imageUrl,alt:a.name,className:"w-24 h-24 rounded-full mx-auto mb-4 object-cover"}),e.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:a.name}),e.jsx("p",{className:"text-purple-600 font-semibold mb-3",children:a.specialty}),e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx(S,{className:"w-5 h-5 text-yellow-400 fill-current"}),e.jsx("span",{className:"ml-1 font-semibold",children:a.rating}),e.jsxs("span",{className:"ml-1 text-gray-600",children:["(",a.reviewCount,")"]})]}),e.jsx("p",{className:"text-gray-600 text-sm mb-4",children:a.description}),e.jsxs("div",{className:"text-2xl font-bold text-purple-600 mb-4",children:["R$ ",a.hourlyRate,"/hora"]}),e.jsx("button",{className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-purple-700 hover:to-indigo-700",children:"Escolher Consultor"})]})},a.id))}),o===2&&s&&e.jsx(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-2xl shadow-xl p-8",children:e.jsxs("div",{className:"mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:["Agendar com ",s.name]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Tipo de Atendimento"}),e.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:d.map(a=>{const t=a.icon;return e.jsxs("div",{onClick:()=>D(a.id),className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${l===a.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[e.jsx(t,{className:"w-8 h-8 text-purple-600 mb-2"}),e.jsx("h4",{className:"font-semibold",children:a.name}),e.jsx("p",{className:"text-sm text-gray-600",children:a.description}),e.jsxs("p",{className:"text-sm font-semibold text-purple-600 mt-2",children:["R$ ",Math.round(s.hourlyRate*a.multiplier),"/hora"]})]},a.id)})})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Escolha a Data"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("button",{onClick:U,className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:e.jsx(H,{className:"w-5 h-5"})}),e.jsx("button",{onClick:P,className:"p-2 bg-gray-100 rounded-lg hover:bg-gray-200",children:e.jsx(O,{className:"w-5 h-5"})})]})]}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:V().map((a,t)=>e.jsxs("div",{onClick:()=>u(a),className:`p-3 text-center border rounded-lg cursor-pointer transition-all ${a.toDateString()===r.toDateString()?"border-purple-500 bg-purple-50":"border-gray-200 hover:border-purple-300"}`,children:[e.jsx("div",{className:"text-sm text-gray-600",children:a.toLocaleDateString("pt-BR",{weekday:"short"})}),e.jsx("div",{className:"font-semibold",children:a.getDate()})]},t))})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Horários para ",g(r)]}),e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-6 gap-3",children:R.map((a,t)=>e.jsx("button",{onClick:()=>a.available&&E(a.time),disabled:!a.available,className:`p-3 rounded-lg font-semibold transition-all ${a.available?"bg-purple-100 text-purple-600 hover:bg-purple-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:a.time},t))})]})]})}),o===3&&s&&h&&e.jsxs(n.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"bg-white rounded-2xl shadow-xl p-8 max-w-2xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Confirmar Agendamento"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-16 h-16 rounded-full object-cover"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx("p",{className:"text-purple-600",children:s.specialty}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(S,{className:"w-4 h-4 text-yellow-400 fill-current"}),e.jsxs("span",{className:"ml-1 text-sm",children:[s.rating," (",s.reviewCount,")"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(C,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("span",{className:"font-semibold",children:"Data e Horário"})]}),e.jsx("p",{children:g(r)}),e.jsx("p",{children:h})]}),e.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(z,{className:"w-5 h-5 text-purple-600 mr-2"}),e.jsx("span",{className:"font-semibold",children:"Tipo de Atendimento"})]}),e.jsx("p",{children:(v=d.find(a=>a.id===l))==null?void 0:v.name}),e.jsx("p",{className:"text-sm text-gray-600",children:(N=d.find(a=>a.id===l))==null?void 0:N.description})]})]}),e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold",children:"Valor Total:"}),e.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["R$ ",Math.round(s.hourlyRate*(((w=d.find(a=>a.id===l))==null?void 0:w.multiplier)||1))]})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Por 1 hora de consulta"})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{onClick:()=>c(2),className:"flex-1 py-3 px-6 border border-gray-300 text-gray-700 font-semibold rounded-lg hover:bg-gray-50",children:"Voltar"}),e.jsx("button",{onClick:M,className:"flex-1 py-3 px-6 bg-gradient-to-r from-purple-600 to-indigo-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-indigo-700",children:"Confirmar e Pagar"})]})]})]})]})})}export{X as default};
