import{ae as f,r as o,j as e,C as w,a as S,af as E,b as k,c as L,d as $,I as b,e as A}from"./index-DOubVUE4.js";import{L as d}from"./label-CNvRtqVC.js";import{A as I,a as P}from"./alert-B7H8KRQb.js";import{E as T}from"./eye-off-CD6Xf2D5.js";import{E as O}from"./eye-C4ExeDay.js";import{U as q}from"./user-Bgp2XcVx.js";import{C as D}from"./crown-DcTeZNLG.js";import{S as F}from"./shield-CwR62iI7.js";const M=()=>{const[,i]=f(),[r,j]=o.useState("cliente"),[m,v]=o.useState(""),[h,g]=o.useState(""),[c,C]=o.useState(!1),[x,u]=o.useState(!1),[p,n]=o.useState(""),y=async s=>{s.preventDefault(),u(!0),n("");try{const a=await(await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:m,password:h,role:r})})).json();if(a.success)switch(localStorage.setItem("authToken",a.token),a.user.role){case"admin":i("/admin-dashboard");break;case"consultor":i("/consultant-dashboard");break;case"cliente":default:i("/client-dashboard");break}else n(a.error||"Credenciais inválidas")}catch{n("Erro de conexão com o servidor")}finally{u(!1)}},l={cliente:{icon:q,color:"bg-amber-500",hoverColor:"hover:bg-amber-600",borderColor:"border-amber-500",textColor:"text-amber-600",title:"Cliente",description:"Acesso às consultas e serviços"},consultor:{icon:D,color:"bg-purple-600",hoverColor:"hover:bg-purple-700",borderColor:"border-purple-600",textColor:"text-purple-600",title:"Consultor",description:"Painel do consultor esotérico"},admin:{icon:F,color:"bg-blue-800",hoverColor:"hover:bg-blue-900",borderColor:"border-blue-800",textColor:"text-blue-800",title:"Administrador",description:"Painel administrativo"}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-amber-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"w-full max-w-md",children:e.jsxs(w,{className:"shadow-xl border-0",children:[e.jsxs(S,{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-32 h-24 flex items-center justify-center",children:e.jsx("img",{src:E,alt:"Conselhos Esotéricos",className:"h-24 w-auto"})}),e.jsxs("div",{children:[e.jsx(k,{className:"text-2xl font-bold text-gray-800",children:"Conselhos Esotéricos"}),e.jsx(L,{className:"text-gray-600",children:"Bem-vindo de volta! Faça login na sua conta"})]})]}),e.jsxs($,{className:"space-y-6",children:[p&&e.jsx(I,{className:"border-red-200 bg-red-50",children:e.jsx(P,{className:"text-red-800",children:p})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{className:"text-sm font-medium text-gray-700",children:"Tipo de Acesso"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(l).map(([s,t])=>{const a=t.icon,N=r===s;return e.jsxs("button",{onClick:()=>j(s),className:`p-3 rounded-xl border-2 text-center transition-all duration-200 ${N?`${t.color} text-white ${t.borderColor}`:`bg-white text-gray-600 border-gray-200 hover:border-gray-300 ${t.hoverColor} hover:text-white`}`,children:[e.jsx(a,{className:"w-6 h-6 mx-auto mb-1"}),e.jsx("div",{className:"text-xs font-medium",children:t.title})]},s)})}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:l[r].description})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"email",children:"Email"}),e.jsx(b,{id:"email",type:"email",value:m,onChange:s=>v(s.target.value),placeholder:"seu@email.com",required:!0,className:"h-11"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"password",children:"Senha"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{id:"password",type:c?"text":"password",value:h,onChange:s=>g(s.target.value),placeholder:"Sua senha",required:!0,className:"h-11 pr-10"}),e.jsx("button",{type:"button",onClick:()=>C(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:c?e.jsx(T,{className:"w-4 h-4"}):e.jsx(O,{className:"w-4 h-4"})})]})]}),e.jsx(A,{type:"submit",disabled:x,className:`w-full h-11 font-semibold ${l[r].color} ${l[r].hoverColor} text-white`,children:x?"Entrando...":`Entrar como ${l[r].title}`})]}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("button",{className:"text-sm text-gray-500 hover:text-gray-700",children:"Esqueceu sua senha?"}),e.jsxs("div",{className:"text-sm text-gray-600",children:["Não tem uma conta?"," ",e.jsx("button",{onClick:()=>i("/cadastro"),className:"text-amber-600 font-medium hover:underline",children:"Cadastre-se"})]})]})]})]})})})};export{M as default};
